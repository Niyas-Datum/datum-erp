<div class="row content-wrapper" style="height: 76vh">
  <div class="col-md-10 right-section-container d-flex flex-column">
    <div class="toolbar-shell border-bottom bg-body position-sticky top-0">
      <div
        class="px-3 py-2 d-flex align-items-center justify-content-between"
      ></div>
    </div>
    <form [formGroup]="gridForm">

    <div class="flex-fill p-3">
      <div class="card shadow-sm">
        <div class="card-body">
          <div class="grid-label-container control-section">
            <!-- Loading indicator -->
            <div *ngIf="isLoading()" class="loading-indicator">
              <div class="spinner"></div>
              <span>Loading grid Settings...</span>
            </div>

            <!-- Grid container -->
            <div *ngIf="!isLoading()" class="grid-wrapper">
              <ejs-grid
                #grid
                id="gridSettingsGrid"
                [dataSource]="gridSettings()"
                [editSettings]="editSettings"
                [allowKeyboard]="true"
                [toolbar]="toolbar"
                (toolbarClick)="clickHandler($event)"
                [allowTextWrap]="true"
                [allowPaging]="true"
                [pageSettings]="{ pageSize: 20 }"
                [allowSorting]="true"
                [allowFiltering]="true"
                [filterSettings]="{ type: 'Menu' }"
                (actionBegin)="actionBegin($event)"
                (actionComplete)="onActionComplete($event)"
                (rowSelected)="onRowSelected($event)"
                (cellClick)="onCellClick($event)"
              >
                <e-columns>
                  <!-- Form Name Column -->

                  <!-- Form Name Column with ComboBox -->
                  <e-column field="formName" headerText="Form Name" width="250">
                    <ng-template #editTemplate let-data>
                      <ejs-combobox
                        [dataSource]="formNames()"
                        [value]="data.formName || ''"
                        [allowFiltering]="true"
                        [showClearButton]="true"
                        placeholder="Select Form Name"
                        [popupHeight]="'300px'"
                        (change)="onFormNameChange($event, data)"
                        (select)="onFormNameChange($event, data)"
                      ></ejs-combobox>
                    </ng-template>
                  </e-column>
                  
                    <!-- pageId column -->
                  <e-column
                    field="pageID"
                    headerText="Page Id"
                    width="200"
                    editType="stringedit"
                  ></e-column>

                  <!-- page column -->
                  <e-column
                    field="page"
                    headerText="Page"
                    width="200"
                    editType="stringedit"
                  ></e-column>

                  <!-- Grid Name Column -->
                  <e-column
                    field="gridName"
                    headerText="Grid Name"
                    width="150"
                    editType="stringedit"
                  ></e-column>

                   <!-- Column Name  -->
                  <e-column
                    field="columnName"
                    headerText="Column Name"
                    width="150"
                    editType="stringedit"
                  ></e-column>

                  <!-- Original Caption Column -->
                  <e-column
                    field="originalCaption"
                    headerText="Original Caption"
                    width="200"
                    editType="stringedit"
                  ></e-column>

                  <!-- New Caption Column -->
                  <e-column
                    field="newCaption"
                    headerText="New Caption"
                    width="200"
                    editType="stringedit"
                  ></e-column>

                  <!-- Arabic Caption Column -->
                  <e-column
                    field="arabicCaption"
                    headerText="Arabic Caption"
                    width="150"
                    editType="stringedit"
                  ></e-column>

                  <!-- Visible Column -->
                  <e-column
                    field="visible"
                    headerText="Visible"
                    width="100"
                    textAlign="Center"
                    editType="booleanedit"
                  >
                    <ng-template #template let-data>
                      <div class="checkbox-container">
                        <input
                          type="checkbox"
                          [checked]="data.visible"
                          [disabled]="true"
                          class="form-check-input"
                        />
                      </div>
                    </ng-template>
                  </e-column>

                </e-columns>
              </ejs-grid>
            </div>
            <!-- Popup Dialog -->

          </div>
        </div>
      </div>
    </div>
    </form>
  </div>
</div>
